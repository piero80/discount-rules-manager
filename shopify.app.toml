# Learn more about configuring your app at https://shopify.dev/docs/apps/tools/cli/configuration

client_id = "413ee41460b0764b68a32fb63ec9ac78"
name = "Smart Discount Rules Manager"
application_url = "https://discount-rules-manager-production.up.railway.app"
embedded = true

[build]
automatically_update_urls_on_dev = true

[webhooks]
api_version = "2025-10"

  [[webhooks.subscriptions]]
  topics = [ "app/uninstalled" ]
  uri = "/webhooks/app/uninstalled"

  [[webhooks.subscriptions]]
  topics = [ "app/scopes_update" ]
  uri = "/webhooks/app/scopes_update"

[access_scopes]
scopes = "read_discounts,read_price_rules,read_products,write_discounts,write_price_rules"

[auth]
redirect_urls = [
  "https://discount-rules-manager-production.up.railway.app/auth/callback",
  "https://discount-rules-manager-production.up.railway.app/auth/shopify/callback"
]

# GDPR Compliance Webhooks (OBBLIGATORI per App Store)
[webhooks.privacy_compliance]
customer_data_request_url = "https://discount-rules-manager-production.up.railway.app/webhooks/gdpr"
customer_deletion_url = "https://discount-rules-manager-production.up.railway.app/webhooks/gdpr"
shop_deletion_url = "https://discount-rules-manager-production.up.railway.app/webhooks/gdpr"

[pos]
embedded = false